<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>7. 复合类型 | Go学习手册</title>
    <meta name="description" content="Go学习手册">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/learning_go_note/assets/css/0.styles.9085aa26.css" as="style"><link rel="preload" href="/learning_go_note/assets/js/app.212da724.js" as="script"><link rel="preload" href="/learning_go_note/assets/js/2.2959cc1c.js" as="script"><link rel="preload" href="/learning_go_note/assets/js/7.cf0fe9e2.js" as="script"><link rel="prefetch" href="/learning_go_note/assets/js/10.e334d072.js"><link rel="prefetch" href="/learning_go_note/assets/js/11.498f4b72.js"><link rel="prefetch" href="/learning_go_note/assets/js/12.f5b7035e.js"><link rel="prefetch" href="/learning_go_note/assets/js/13.2bd82ea6.js"><link rel="prefetch" href="/learning_go_note/assets/js/14.6ef5c924.js"><link rel="prefetch" href="/learning_go_note/assets/js/15.c3dcc21b.js"><link rel="prefetch" href="/learning_go_note/assets/js/16.3890675b.js"><link rel="prefetch" href="/learning_go_note/assets/js/17.d762c2f6.js"><link rel="prefetch" href="/learning_go_note/assets/js/18.41fd52b4.js"><link rel="prefetch" href="/learning_go_note/assets/js/3.5e7c109c.js"><link rel="prefetch" href="/learning_go_note/assets/js/4.f1aa7576.js"><link rel="prefetch" href="/learning_go_note/assets/js/5.7afc0409.js"><link rel="prefetch" href="/learning_go_note/assets/js/6.02052720.js"><link rel="prefetch" href="/learning_go_note/assets/js/8.dfec0f28.js"><link rel="prefetch" href="/learning_go_note/assets/js/9.fffeba68.js">
    <link rel="stylesheet" href="/learning_go_note/assets/css/0.styles.9085aa26.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/learning_go_note/" class="home-link router-link-active"><!----> <span class="site-name">Go学习手册</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/learning_go_note/初识Go语言.html" class="sidebar-link">1. 初识 Go 语言</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/初识Go语言.html#_1-1-go-语言介绍" class="sidebar-link">1.1 Go 语言介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/初识Go语言.html#_1-1-1-go-语言是什么" class="sidebar-link">1.1.1 Go 语言是什么</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/初识Go语言.html#_1-1-2-go-语言优势" class="sidebar-link">1.1.2 Go 语言优势</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/初识Go语言.html#_1-1-3-go-适合用来做什么" class="sidebar-link">1.1.3 Go 适合用来做什么</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/初识Go语言.html#_1-2-环境搭建" class="sidebar-link">1.2 环境搭建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/初识Go语言.html#_1-2-1-安装和设置" class="sidebar-link">1.2.1 安装和设置</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/初识Go语言.html#_1-2-2-标准命令概述" class="sidebar-link">1.2.2 标准命令概述</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/初识Go语言.html#_1-2-3-学习资料" class="sidebar-link">1.2.3 学习资料</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/初识Go语言.html#_1-3-第一个-go-程序" class="sidebar-link">1.3 第一个 Go 程序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/初识Go语言.html#_1-3-1-hello-go" class="sidebar-link">1.3.1 Hello Go</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/初识Go语言.html#_1-3-2-代码分析" class="sidebar-link">1.3.2 代码分析</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/初识Go语言.html#_1-3-3-命令行运行程序" class="sidebar-link">1.3.3 命令行运行程序</a></li></ul></li></ul></li><li><a href="/learning_go_note/基础类型.html" class="sidebar-link">2. 基础类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-1-命名" class="sidebar-link">2.1 命名</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-2-变量" class="sidebar-link">2.2 变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-2-1-变量声明" class="sidebar-link">2.2.1 变量声明</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-2-2-变量初始化" class="sidebar-link">2.2.2 变量初始化</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-2-3-变量赋值" class="sidebar-link">2.2.3 变量赋值</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-2-4-匿名变量" class="sidebar-link">2.2.4 匿名变量</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-3-常量" class="sidebar-link">2.3 常量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-3-1-字面常量-常量值" class="sidebar-link">2.3.1 字面常量(常量值)</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-3-2-常量定义" class="sidebar-link">2.3.2 常量定义</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-3-3-iota-枚举" class="sidebar-link">2.3.3 iota 枚举</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-4-基础数据类型" class="sidebar-link">2.4 基础数据类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-4-1-分类" class="sidebar-link">2.4.1 分类</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-4-2-布尔类型" class="sidebar-link">2.4.2 布尔类型</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-4-3-整型" class="sidebar-link">2.4.3 整型</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-4-4-浮点型" class="sidebar-link">2.4.4 浮点型</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-4-5-字符类型" class="sidebar-link">2.4.5 字符类型</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-4-6-字符串" class="sidebar-link">2.4.6 字符串</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-4-7-复数类型" class="sidebar-link">2.4.7 复数类型</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-5-fmt-包的格式化输出输入" class="sidebar-link">2.5 fmt 包的格式化输出输入</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-5-1-格式说明" class="sidebar-link">2.5.1 格式说明</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-5-2-输出" class="sidebar-link">2.5.2 输出</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-5-3-输人" class="sidebar-link">2.5.3 输人</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-6-类型转换" class="sidebar-link">2.6 类型转换</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/基础类型.html#_2-7-类型别名" class="sidebar-link">2.7 类型别名</a></li></ul></li><li><a href="/learning_go_note/运算符.html" class="sidebar-link">3. 运算符</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/运算符.html#_3-1-算术运算符" class="sidebar-link">3.1 算术运算符</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/运算符.html#_3-2-关系运算符" class="sidebar-link">3.2 关系运算符</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/运算符.html#_3-3-逻辑运算符" class="sidebar-link">3.3 逻辑运算符</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/运算符.html#_3-4-位运算符" class="sidebar-link">3.4 位运算符</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/运算符.html#_3-5-赋值运算符" class="sidebar-link">3.5 赋值运算符</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/运算符.html#_3-6-其他运算符" class="sidebar-link">3.6 其他运算符</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/运算符.html#_3-7-运算符优先级" class="sidebar-link">3.7 运算符优先级</a></li></ul></li><li><a href="/learning_go_note/流程控制.html" class="sidebar-link">4.流程控制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/流程控制.html#_4-1-选择结构" class="sidebar-link">4.1 选择结构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/流程控制.html#_4-1-1-if-语句" class="sidebar-link">4.1.1 if 语句</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/流程控制.html#_4-1-2-switch-语句" class="sidebar-link">4.1.2 switch 语句</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/流程控制.html#_4-2-循环语句" class="sidebar-link">4.2 循环语句</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/流程控制.html#_4-2-1-for" class="sidebar-link">4.2.1 for</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/流程控制.html#_4-2-2-range" class="sidebar-link">4.2.2 range</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/流程控制.html#_4-3-跳转语句" class="sidebar-link">4.3 跳转语句</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/流程控制.html#_4-3-1-break-和-continue" class="sidebar-link">4.3.1 break 和 continue</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/流程控制.html#_4-3-2-goto" class="sidebar-link">4.3.2 goto</a></li></ul></li></ul></li><li><a href="/learning_go_note/函数.html" class="sidebar-link">5. 函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-1-定义格式" class="sidebar-link">5.1 定义格式</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-2-自定义函数" class="sidebar-link">5.2 自定义函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-2-1-无参无返回值" class="sidebar-link">5.2.1 无参无返回值</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-2-2-有参无返回值" class="sidebar-link">5.2.2 有参无返回值</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-2-3-无参有返回值" class="sidebar-link">5.2.3 无参有返回值</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-2-4-有参有返回值" class="sidebar-link">5.2.4 有参有返回值</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-3-递归函数" class="sidebar-link">5.3 递归函数</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-4-函数类型" class="sidebar-link">5.4 函数类型</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-5-匿名函数与闭包" class="sidebar-link">5.5 匿名函数与闭包</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-6-延迟调用-defer" class="sidebar-link">5.6 延迟调用 defer</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-6-1-defer-作用" class="sidebar-link">5.6.1 defer 作用</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-6-2-多个-defer-执行顺序" class="sidebar-link">5.6.2 多个 defer 执行顺序</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-6-3-defer-和匿名函数结合使用" class="sidebar-link">5.6.3 defer 和匿名函数结合使用</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-7-获取命令行参数" class="sidebar-link">5.7 获取命令行参数</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-8-作用域" class="sidebar-link">5.8 作用域</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-8-1-局部变量" class="sidebar-link">5.8.1 局部变量</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-8-2-全局变量" class="sidebar-link">5.8.2 全局变量</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/函数.html#_5-8-3-不同作用域同名变量" class="sidebar-link">5.8.3 不同作用域同名变量</a></li></ul></li></ul></li><li><a href="/learning_go_note/工程管理.html" class="sidebar-link">6. 工程管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/工程管理.html#_6-1-工作区" class="sidebar-link">6.1 工作区</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/工程管理.html#_6-1-1-工作区介绍" class="sidebar-link">6.1.1 工作区介绍</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/工程管理.html#_6-1-2-gopath-设置" class="sidebar-link">6.1.2 GOPATH 设置</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/工程管理.html#_6-2-包" class="sidebar-link">6.2 包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/工程管理.html#_6-2-1-自定义包" class="sidebar-link">6.2.1 自定义包</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/工程管理.html#_6-2-2-main-包" class="sidebar-link">6.2.2 main 包</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/工程管理.html#_6-2-3-main-函数和-init-函数" class="sidebar-link">6.2.3 main 函数和 init 函数</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/工程管理.html#_6-2-4-导入包" class="sidebar-link">6.2.4 导入包</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/工程管理.html#_6-3-测试案例" class="sidebar-link">6.3 测试案例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/工程管理.html#_6-3-1-测试代码" class="sidebar-link">6.3.1 测试代码</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/工程管理.html#_6-3-2-gopath-设置" class="sidebar-link">6.3.2 GOPATH 设置</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/工程管理.html#_6-3-3-编译运行程序" class="sidebar-link">6.3.3 编译运行程序</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/工程管理.html#_6-3-4-go-install-的使用" class="sidebar-link">6.3.4 go install 的使用</a></li></ul></li></ul></li><li><a href="/learning_go_note/复合类型.html" class="active sidebar-link">7. 复合类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-1-分类" class="sidebar-link">7.1 分类</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-2-指针" class="sidebar-link">7.2 指针</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-2-1-基本操作" class="sidebar-link">7.2.1 基本操作</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-2-2-new-函数" class="sidebar-link">7.2.2 new 函数</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-2-3-指针做函数参数" class="sidebar-link">7.2.3 指针做函数参数</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-3-数组" class="sidebar-link">7.3 数组</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-3-1-概述" class="sidebar-link">7.3.1 概述</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-3-2-操作数组" class="sidebar-link">7.3.2 操作数组</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-3-3-在函数间传递数组" class="sidebar-link">7.3.3 在函数间传递数组</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-4-slice" class="sidebar-link">7.4 slice</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-4-1-概述" class="sidebar-link">7.4.1 概述</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-4-2-切片的创建和初始化" class="sidebar-link">7.4.2 切片的创建和初始化</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-4-3-切片的操作" class="sidebar-link">7.4.3 切片的操作</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-4-4-切片做函数参数" class="sidebar-link">7.4.4 切片做函数参数</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-5-map" class="sidebar-link">7.5 map</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-5-1-概述" class="sidebar-link">7.5.1 概述</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-5-2-创建和初始化" class="sidebar-link">7.5.2 创建和初始化</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-5-3-常用操作" class="sidebar-link">7.5.3 常用操作</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-5-4-map-做函数参数" class="sidebar-link">7.5.4 map 做函数参数</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-6-结构体" class="sidebar-link">7.6 结构体</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-6-1-结构体类型" class="sidebar-link">7.6.1 结构体类型</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-6-2-结构体初始化" class="sidebar-link">7.6.2 结构体初始化</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-6-3-结构体成员的使用" class="sidebar-link">7.6.3 结构体成员的使用</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-6-4-结构体比较" class="sidebar-link">7.6.4 结构体比较</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-6-5-结构体作为函数参数" class="sidebar-link">7.6.5 结构体作为函数参数</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/复合类型.html#_7-6-6-可见性" class="sidebar-link">7.6.6 可见性</a></li></ul></li></ul></li><li><a href="/learning_go_note/面向对象编程.html" class="sidebar-link">8. 面向对象编程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-1-概述" class="sidebar-link">8.1 概述</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-2-匿名组合" class="sidebar-link">8.2 匿名组合</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-2-1-匿名字段" class="sidebar-link">8.2.1 匿名字段</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-2-2-初始化" class="sidebar-link">8.2.2 初始化</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-2-3-成员的操作" class="sidebar-link">8.2.3 成员的操作</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-2-4-同名字段" class="sidebar-link">8.2.4 同名字段</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-2-5-其它匿名字段" class="sidebar-link">8.2.5 其它匿名字段</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-3-方法" class="sidebar-link">8.3 方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-3-1-概述" class="sidebar-link">8.3.1 概述</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-3-2-为类型添加方法" class="sidebar-link">8.3.2 为类型添加方法</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-3-3-值语义和引用语义" class="sidebar-link">8.3.3 值语义和引用语义</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-3-4-方法集" class="sidebar-link">8.3.4 方法集</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-3-5-匿名字段" class="sidebar-link">8.3.5 匿名字段</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-3-6-表达式" class="sidebar-link">8.3.6 表达式</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-4-接口" class="sidebar-link">8.4 接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-4-1-概述" class="sidebar-link">8.4.1 概述</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-4-2-接口的使用" class="sidebar-link">8.4.2 接口的使用</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-4-3-接口组合" class="sidebar-link">8.4.3 接口组合</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-4-4-空接口" class="sidebar-link">8.4.4 空接口</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/面向对象编程.html#_8-4-5-类型查询" class="sidebar-link">8.4.5 类型查询</a></li></ul></li></ul></li><li><a href="/learning_go_note/异常处理.html" class="sidebar-link">9. 异常处理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/异常处理.html#_9-1-error-接口" class="sidebar-link">9.1 error 接口</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/异常处理.html#_9-2-panic" class="sidebar-link">9.2 panic</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/异常处理.html#_9-3-recover" class="sidebar-link">9.3 recover</a></li></ul></li><li><a href="/learning_go_note/文本文件处理.html" class="sidebar-link">10. 文本文件处理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/文本文件处理.html#_10-1-字符串处理" class="sidebar-link">10.1 字符串处理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/文本文件处理.html#_10-1-1-字符串操作" class="sidebar-link">10.1.1 字符串操作</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/文本文件处理.html#_10-1-2-字符串转换" class="sidebar-link">10.1.2 字符串转换</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/文本文件处理.html#_10-2-正则表达式" class="sidebar-link">10.2 正则表达式</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/文本文件处理.html#_10-3-json-处理" class="sidebar-link">10.3 JSON 处理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/文本文件处理.html#_10-3-1-编码-json" class="sidebar-link">10.3.1 编码 JSON</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/文本文件处理.html#_10-3-2-解码-json" class="sidebar-link">10.3.2 解码 JSON</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/文本文件处理.html#_10-4-文件操作" class="sidebar-link">10.4 文件操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/文本文件处理.html#_10-4-1-相关-api-介绍" class="sidebar-link">10.4.1 相关 api 介绍</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/文本文件处理.html#_10-4-2-示例代码" class="sidebar-link">10.4.2 示例代码</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/文本文件处理.html#_10-4-3-案例：拷贝文件" class="sidebar-link">10.4.3 案例：拷贝文件</a></li></ul></li></ul></li><li><a href="/learning_go_note/并发编程.html" class="sidebar-link">11. 并发编程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-1-概述" class="sidebar-link">11.1 概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-1-1-并行和并发" class="sidebar-link">11.1.1 并行和并发</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-1-2-go-语言并发优势" class="sidebar-link">11.1.2 Go 语言并发优势</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-2-goroutine" class="sidebar-link">11.2 goroutine</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-2-1-goroutine-是什么" class="sidebar-link">11.2.1 goroutine 是什么</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-2-2-创建-goroutine" class="sidebar-link">11.2.2 创建 goroutine</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-2-3-主-goroutine-先退出" class="sidebar-link">11.2.3 主 goroutine 先退出</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-2-4-runtime-包" class="sidebar-link">11.2.4 runtime 包</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-3-channel" class="sidebar-link">11.3 channel</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-3-1-channel-类型" class="sidebar-link">11.3.1 channel 类型</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-3-2-无缓冲的-channel" class="sidebar-link">11.3.2 无缓冲的 channel</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-3-3-有缓冲的-channel" class="sidebar-link">11.3.3 有缓冲的 channel</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-3-4-range-和-close" class="sidebar-link">11.3.4 range 和 close</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-3-5-单方向的-channel" class="sidebar-link">11.3.5 单方向的 channel</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-3-6-定时器" class="sidebar-link">11.3.6 定时器</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-4-select" class="sidebar-link">11.4 select</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-4-1-select-作用" class="sidebar-link">11.4.1 select 作用</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/并发编程.html#_11-4-2-超时" class="sidebar-link">11.4.2 超时</a></li></ul></li></ul></li><li><a href="/learning_go_note/网络编程.html" class="sidebar-link">12. 网络编程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/网络编程.html#_12-1-网络概述" class="sidebar-link">12.1 网络概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/网络编程.html#_12-1-1-网络协议" class="sidebar-link">12.1.1 网络协议</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/网络编程.html#_12-1-2-分层模型" class="sidebar-link">12.1.2 分层模型</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/网络编程.html#_12-2-socket-编程" class="sidebar-link">12.2 Socket 编程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/网络编程.html#_12-2-1-什么是-socket" class="sidebar-link">12.2.1 什么是 Socket</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/网络编程.html#_12-2-2-tcp-的-c-s-架构" class="sidebar-link">12.2.2 TCP 的 C/S 架构</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/网络编程.html#_12-2-3-示例程序" class="sidebar-link">12.2.3 示例程序</a></li></ul></li><li class="sidebar-sub-header"><a href="/learning_go_note/网络编程.html#_12-3-http-编程" class="sidebar-link">12.3 HTTP 编程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning_go_note/网络编程.html#_12-3-1-概述" class="sidebar-link">12.3.1 概述</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/网络编程.html#_12-3-2-http-报文浅析" class="sidebar-link">12.3.2 HTTP 报文浅析</a></li><li class="sidebar-sub-header"><a href="/learning_go_note/网络编程.html#_12-3-3-http-编程" class="sidebar-link">12.3.3 HTTP 编程</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_7-复合类型"><a href="#_7-复合类型" class="header-anchor">#</a> 7. 复合类型</h1> <h2 id="_7-1-分类"><a href="#_7-1-分类" class="header-anchor">#</a> 7.1 分类</h2> <table><thead><tr><th>类型</th> <th style="text-align:center;">名称</th> <th style="text-align:right;">长度</th> <th style="text-align:right;">默认值</th> <th>说明</th></tr></thead> <tbody><tr><td>pointer</td> <td style="text-align:center;">指针</td> <td style="text-align:right;"></td> <td style="text-align:right;">nil</td> <td></td></tr> <tr><td>array</td> <td style="text-align:center;">数组</td> <td style="text-align:right;"></td> <td style="text-align:right;">0</td> <td></td></tr> <tr><td>slice</td> <td style="text-align:center;">切片</td> <td style="text-align:right;"></td> <td style="text-align:right;">nil</td> <td>引⽤类型</td></tr> <tr><td>map</td> <td style="text-align:center;">字典</td> <td style="text-align:right;"></td> <td style="text-align:right;">nil</td> <td>引⽤类型</td></tr> <tr><td>struct</td> <td style="text-align:center;">结构体</td> <td style="text-align:right;"></td> <td style="text-align:right;"></td> <td></td></tr></tbody></table> <h2 id="_7-2-指针"><a href="#_7-2-指针" class="header-anchor">#</a> 7.2 指针</h2> <p>指针是一个代表着某个内存地址的值。这个内存地址往往是在内存中存储的另一个变量的值的起始位置。Go 语言对指针的支持介于 Java 语言和 C/C++语言之间，它既没有想 Java 语言那样取消了代码对指针的直接操作的能力，也避免了 C/C++语言中由于对指针的滥用而造成的安全和可靠性问题。</p> <h3 id="_7-2-1-基本操作"><a href="#_7-2-1-基本操作" class="header-anchor">#</a> 7.2.1 基本操作</h3> <p>Go 语言虽然保留了指针，但与其它编程语言不同的是：
 默认值 nil，没有 NULL 常量
 操作符 &quot;&amp;&quot; 取变量地址， &quot;*&quot; 通过指针访问目标对象
 不支持指针运算，不支持 &quot;-&gt;&quot; 运算符，直接⽤ &quot;.&quot; 访问目标成员</p> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">10</span>              <span class="token comment">//声明一个变量，同时初始化</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;a = %p\n&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span> <span class="token comment">//操作符 &quot;&amp;&quot; 取变量地址</span>

    <span class="token keyword">var</span> p <span class="token operator">*</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token boolean">nil</span> <span class="token comment">//声明一个变量p, 类型为 *int, 指针类型</span>
    p <span class="token operator">=</span> <span class="token operator">&amp;</span>a
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;p = %p\n&quot;</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;a = %d, *p = %d\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span>

    <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">111</span> <span class="token comment">//*p操作指针所指向的内存，即为a</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;a = %d, *p = %d\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_7-2-2-new-函数"><a href="#_7-2-2-new-函数" class="header-anchor">#</a> 7.2.2 new 函数</h3> <p>表达式 new(T)将创建一个 T 类型的匿名变量，所做的是为 T 类型的新值分配并清零一块内存空间，然后将这块内存空间的地址作为结果返回，而这个结果就是指向这个新的 T 类型值的指针值，返回的指针类型为*T。</p> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> p1 <span class="token operator">*</span><span class="token builtin">int</span>
    p1 <span class="token operator">=</span> <span class="token function">new</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>              <span class="token comment">//p1为*int 类型, 指向匿名的int变量</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;*p1 = &quot;</span><span class="token punctuation">,</span> <span class="token operator">*</span>p1<span class="token punctuation">)</span> <span class="token comment">//*p1 =  0</span>

    p2 <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token comment">//p2为*int 类型, 指向匿名的int变量</span>
    <span class="token operator">*</span>p2 <span class="token operator">=</span> <span class="token number">111</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;*p2 = &quot;</span><span class="token punctuation">,</span> <span class="token operator">*</span>p2<span class="token punctuation">)</span> <span class="token comment">//*p1 =  111</span>
<span class="token punctuation">}</span>
</code></pre></div><p>我们只需使用 new()函数，无需担心其内存的生命周期或怎样将其删除，因为 Go 语言的内存管理系统会帮我们打理一切。</p> <h3 id="_7-2-3-指针做函数参数"><a href="#_7-2-3-指针做函数参数" class="header-anchor">#</a> 7.2.3 指针做函数参数</h3> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">swap01</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;swap01 a = %d, b = %d\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">swap02</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">*</span>x<span class="token punctuation">,</span> <span class="token operator">*</span>y <span class="token operator">=</span> <span class="token operator">*</span>y<span class="token punctuation">,</span> <span class="token operator">*</span>x
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a <span class="token operator">:=</span> <span class="token number">10</span>
    b <span class="token operator">:=</span> <span class="token number">20</span>

    <span class="token comment">//swap01(a, b) //值传递</span>
    <span class="token function">swap02</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span> <span class="token comment">//变量地址传递</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;a = %d, b = %d\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_7-3-数组"><a href="#_7-3-数组" class="header-anchor">#</a> 7.3 数组</h2> <h3 id="_7-3-1-概述"><a href="#_7-3-1-概述" class="header-anchor">#</a> 7.3.1 概述</h3> <p>数组是指一系列同一类型数据的集合。数组中包含的每个数据被称为数组元素（element），一个数组包含的元素个数被称为数组的长度。</p> <p>数组⻓度必须是常量，且是类型的组成部分。 [2]int 和 [3]int 是不同类型。</p> <div class="language-Go extra-class"><pre class="language-go"><code>    <span class="token keyword">var</span> n <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">10</span>
    <span class="token keyword">var</span> a <span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token builtin">int</span>  <span class="token comment">//err, non-constant array bound n</span>
    <span class="token keyword">var</span> b <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token comment">//ok</span>
</code></pre></div><h3 id="_7-3-2-操作数组"><a href="#_7-3-2-操作数组" class="header-anchor">#</a> 7.3.2 操作数组</h3> <p>数组的每个元素可以通过索引下标来访问，索引下标的范围是从 0 开始到数组长度减 1 的位置。</p> <div class="language-Go extra-class"><pre class="language-go"><code>    <span class="token keyword">var</span> a <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token builtin">int</span>
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;a[%d] = %d\n&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//range具有两个返回值，第一个返回值是元素的数组下标，第二个返回值是元素的值</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> a <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;a[&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token string">&quot;]=&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>内置函数 len(长度) 和 cap(容量) 都返回数组⻓度 (元素数量)：</p> <div class="language-Go extra-class"><pre class="language-go"><code>    a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//10 10</span>
</code></pre></div><p>初始化：</p> <div class="language-Go extra-class"><pre class="language-go"><code>    a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span>           <span class="token comment">// 未初始化元素值为 0</span>
    b <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>      <span class="token comment">// 通过初始化值确定数组长度</span>
    c <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">}</span> <span class="token comment">// 通过索引号初始化元素，未初始化元素值为 0</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span>        <span class="token comment">//[1 2 0] [1 2 3] [0 0 100 0 200]</span>

    <span class="token comment">//支持多维数组</span>
    d <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">41</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
    e <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">41</span><span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment">//第二维不能写&quot;...&quot;</span>
    f <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">41</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
    g <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">41</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> e<span class="token punctuation">,</span> f<span class="token punctuation">,</span> g<span class="token punctuation">)</span>
</code></pre></div><p>相同类型的数组之间可以使用 == 或 != 进行比较，但不可以使用 &lt; 或 &gt;，也可以相互赋值：</p> <div class="language-Go extra-class"><pre class="language-go"><code>    a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>
    b <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>
    c <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">,</span> b <span class="token operator">==</span> c<span class="token punctuation">)</span> <span class="token comment">//true false</span>

    <span class="token keyword">var</span> d <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span>
    d <span class="token operator">=</span> a
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token comment">//[1 2 3]</span>
</code></pre></div><h3 id="_7-3-3-在函数间传递数组"><a href="#_7-3-3-在函数间传递数组" class="header-anchor">#</a> 7.3.3 在函数间传递数组</h3> <p>根据内存和性能来看，在函数间传递数组是一个开销很大的操作。在函数之间传递变量时，总是以值的方式传递的。如果这个变量是一个数组，意味着整个数组，不管有多长，都会完整复制，并传递给函数。</p> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">modify</span><span class="token punctuation">(</span>array <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span> <span class="token comment">// 试图修改数组的第一个元素</span>
    <span class="token comment">//In modify(), array values: [10 2 3 4 5]</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;In modify(), array values:&quot;</span><span class="token punctuation">,</span> array<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    array <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span> <span class="token comment">// 定义并初始化一个数组</span>
    <span class="token function">modify</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span>                  <span class="token comment">// 传递给一个函数，并试图在函数体内修改这个数组内容</span>
    <span class="token comment">//In main(), array values: [1 2 3 4 5]</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;In main(), array values:&quot;</span><span class="token punctuation">,</span> array<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>数组指针做函数参数：</p> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">modify</span><span class="token punctuation">(</span>array <span class="token operator">*</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>array<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span>
    <span class="token comment">//In modify(), array values: [10 2 3 4 5]</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;In modify(), array values:&quot;</span><span class="token punctuation">,</span> <span class="token operator">*</span>array<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    array <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span> <span class="token comment">// 定义并初始化一个数组</span>
    <span class="token function">modify</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>array<span class="token punctuation">)</span>                 <span class="token comment">// 数组指针</span>
    <span class="token comment">//In main(), array values: [10 2 3 4 5]</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;In main(), array values:&quot;</span><span class="token punctuation">,</span> array<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_7-4-slice"><a href="#_7-4-slice" class="header-anchor">#</a> 7.4 slice</h2> <h3 id="_7-4-1-概述"><a href="#_7-4-1-概述" class="header-anchor">#</a> 7.4.1 概述</h3> <p>数组的长度在定义之后无法再次修改；数组是值类型，每次传递都将产生一份副本。显然这种数据结构无法完全满足开发者的真实需求。Go 语言提供了数组切片（slice）来弥补数组的不足。</p> <p>切片并不是数组或数组指针，它通过内部指针和相关属性引⽤数组⽚段，以实现变⻓⽅案。</p> <p>slice 并不是真正意义上的动态数组，而是一个引用类型。slice 总是指向一个底层 array，slice 的声明也可以像 array 一样，只是不需要长度。
<img src="/learning_go_note/assets/img/go29662.20cbdc4d.png" alt="123"></p> <h3 id="_7-4-2-切片的创建和初始化"><a href="#_7-4-2-切片的创建和初始化" class="header-anchor">#</a> 7.4.2 切片的创建和初始化</h3> <p>slice 和数组的区别：声明数组时，方括号内写明了数组的长度或使用...自动计算长度，而声明 slice 时，方括号内没有任何字符。</p> <div class="language-Go extra-class"><pre class="language-go"><code>    <span class="token keyword">var</span> s1 <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token comment">//声明切片和声明array一样，只是少了长度，此为空(nil)切片</span>
    s2 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token comment">//make([]T, length, capacity) //capacity省略，则和length的值相同</span>
    <span class="token keyword">var</span> s3 <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    s4 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

    s5 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span> <span class="token comment">//创建切片并初始化</span>
</code></pre></div><p>注意：make 只能创建 slice、map 和 channel，并且返回一个有初始值(非零)。</p> <h3 id="_7-4-3-切片的操作"><a href="#_7-4-3-切片的操作" class="header-anchor">#</a> 7.4.3 切片的操作</h3> <h4 id="_7-4-3-1-切片截取"><a href="#_7-4-3-1-切片截取" class="header-anchor">#</a> 7.4.3.1 切片截取</h4> <p>操作 含义
s[n] 切片 s 中索引位置为 n 的项
s[:] 从切片 s 的索引位置 0 到 len(s)-1 处所获得的切片
s[low:] 从切片 s 的索引位置 low 到 len(s)-1 处所获得的切片
s[:high] 从切片 s 的索引位置 0 到 high 处所获得的切片，len=high
s[low:high] 从切片 s 的索引位置 low 到 high 处所获得的切片，len=high-low
s[low:high:max] 从切片 s 的索引位置 low 到 high 处所获得的切片，len=high-low，cap=max-low
len(s) 切片 s 的长度，总是&lt;=cap(s)
cap(s) 切片 s 的容量，总是&gt;=len(s)</p> <p>示例说明：
    array := []int{0, 1, 2, 3, 4, 5, 6, 7, 8, 9}</p> <p>操作 结果 len cap 说明
array[:6:8][0 1 2 3 4 5] 6 8 省略 low
array[5:][5 6 7 8 9] 5 5 省略 high、 max
array[:3][0 1 2] 3 10 省略 high、 max
array[:][0 1 2 3 4 5 6 7 8 9] 10 10 全部省略</p> <h4 id="_7-4-3-2-切片和底层数组关系"><a href="#_7-4-3-2-切片和底层数组关系" class="header-anchor">#</a> 7.4.3.2 切片和底层数组关系</h4> <div class="language-Go extra-class"><pre class="language-go"><code>    s <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">}</span>

    s1 <span class="token operator">:=</span> s<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span>       <span class="token comment">//[2 3 4]</span>
    s1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>        <span class="token comment">//修改切片某个元素改变底层数组</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s<span class="token punctuation">)</span> <span class="token comment">//[2 3 100] [0 1 2 3 100 5 6 7 8 9]</span>

    s2 <span class="token operator">:=</span> s1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token comment">// 新切片依旧指向原底层数组 [100 5 6 7]</span>
    s2<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">200</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment">//[100 5 6 200]</span>

    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">//[0 1 2 3 100 5 6 200 8 9]</span>
</code></pre></div><h4 id="_7-4-3-3-内建函数"><a href="#_7-4-3-3-内建函数" class="header-anchor">#</a> 7.4.3.3 内建函数</h4> <ol><li>append
append 函数向 slice 尾部添加数据，返回新的 slice 对象：</li></ol> <div class="language-Go extra-class"><pre class="language-go"><code>    <span class="token keyword">var</span> s1 <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token comment">//创建nil切换</span>
    <span class="token comment">//s1 := make([]int, 0)</span>
    s1 <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>       <span class="token comment">//追加1个元素</span>
    s1 <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>    <span class="token comment">//追加2个元素</span>
    s1 <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token comment">//追加3个元素</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>          <span class="token comment">//[1 2 3 4 5 6]</span>

    s2 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
    s2 <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s2<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment">//[0 0 0 0 0 6]</span>

    s3 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>
    s3 <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s3<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span><span class="token comment">//[1 2 3 4 5]</span>
</code></pre></div><p>append 函数会智能地底层数组的容量增长，一旦超过原底层数组容量，通常以 2 倍容量重新分配底层数组，并复制原来的数据：</p> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    s <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    c <span class="token operator">:=</span> <span class="token function">cap</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">50</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        s <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">)</span>
        <span class="token keyword">if</span> n <span class="token operator">:=</span> <span class="token function">cap</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> n <span class="token operator">&gt;</span> c <span class="token punctuation">{</span>
            fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;cap: %d -&gt; %d\n&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> n<span class="token punctuation">)</span>
            c <span class="token operator">=</span> n
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/*
        cap: 1 -&gt; 2
        cap: 2 -&gt; 4
        cap: 4 -&gt; 8
        cap: 8 -&gt; 16
        cap: 16 -&gt; 32
        cap: 32 -&gt; 64
    */</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>copy
函数 copy 在两个 slice 间复制数据，复制⻓度以 len 小的为准，两个 slice 可指向同⼀底层数组。</li></ol> <div class="language-Go extra-class"><pre class="language-go"><code>    data <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">}</span>
    s1 <span class="token operator">:=</span> data<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">:</span><span class="token punctuation">]</span>  <span class="token comment">//{8, 9}</span>
    s2 <span class="token operator">:=</span> data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token comment">//{0, 1, 2, 3, 4}</span>
    <span class="token function">copy</span><span class="token punctuation">(</span>s2<span class="token punctuation">,</span> s1<span class="token punctuation">)</span>    <span class="token comment">// dst:s2, src:s1</span>

    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span>   <span class="token comment">//[8 9 2 3 4]</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">//[8 9 2 3 4 5 6 7 8 9]</span>
</code></pre></div><h3 id="_7-4-4-切片做函数参数"><a href="#_7-4-4-切片做函数参数" class="header-anchor">#</a> 7.4.4 切片做函数参数</h3> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//切片做函数参数</span>
    s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;test : &quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> s <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;s[%d]=%d, &quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
        <span class="token comment">//s[0]=-1, s[1]=1, s[2]=2, s[3]=3, s[4]=4, s[5]=5, s[6]=6, s[7]=7, s[8]=8, s[9]=9,</span>
    <span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    slice <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">}</span>
    <span class="token function">test</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span>

    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;main : &quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> slice <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;slice[%d]=%d, &quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
        <span class="token comment">//slice[0]=-1, slice[1]=1, slice[2]=2, slice[3]=3, slice[4]=4, slice[5]=5, slice[6]=6, slice[7]=7, slice[8]=8, slice[9]=9,</span>
    <span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_7-5-map"><a href="#_7-5-map" class="header-anchor">#</a> 7.5 map</h2> <h3 id="_7-5-1-概述"><a href="#_7-5-1-概述" class="header-anchor">#</a> 7.5.1 概述</h3> <p>Go 语言中的 map(映射、字典)是一种内置的数据结构，它是一个无序的 key—value 对的集合，比如以身份证号作为唯一键来标识一个人的信息。
<img src="/learning_go_note/assets/img/go32822.8f20138d.png" alt="123"></p> <p>map 格式为：
    map[keyType]valueType</p> <p>在一个 map 里所有的键都是唯一的，而且必须是支持==和!=操作符的类型，切片、函数以及包含切片的结构类型这些类型由于具有引用语义，不能作为映射的键，使用这些类型会造成编译错误：
    dict := map[ []string ]int{} //err, invalid map key type []string</p> <p>map 值可以是任意类型，没有限制。map 里所有键的数据类型必须是相同的，值也必须如何，但键和值的数据类型可以不相同。</p> <p>注意：map 是无序的，我们无法决定它的返回顺序，所以，每次打印结果的顺利有可能不同。</p> <h3 id="_7-5-2-创建和初始化"><a href="#_7-5-2-创建和初始化" class="header-anchor">#</a> 7.5.2 创建和初始化</h3> <h4 id="_7-5-2-1-map-的创建"><a href="#_7-5-2-1-map-的创建" class="header-anchor">#</a> 7.5.2.1 map 的创建</h4> <div class="language-Go extra-class"><pre class="language-go"><code>    <span class="token keyword">var</span> m1 <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span>  <span class="token comment">//只是声明一个map，没有初始化, 此为空(nil)map</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>m1 <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
    <span class="token comment">//m1[1] = &quot;mike&quot; //err, panic: assignment to entry in nil map</span>

    <span class="token comment">//m2, m3的创建方法是等价的</span>
    m2 <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    m3 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>m2<span class="token punctuation">,</span> m3<span class="token punctuation">)</span> <span class="token comment">//map[] map[]</span>

    m4 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">//第2个参数指定容量</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>m4<span class="token punctuation">)</span>                <span class="token comment">//map[]</span>
</code></pre></div><h4 id="_7-5-2-2-初始化"><a href="#_7-5-2-2-初始化" class="header-anchor">#</a> 7.5.2.2 初始化</h4> <div class="language-Go extra-class"><pre class="language-go"><code>    <span class="token comment">//1、定义同时初始化</span>
    <span class="token keyword">var</span> m1 <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">&quot;mike&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">&quot;yoyo&quot;</span><span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>m1<span class="token punctuation">)</span> <span class="token comment">//map[1:mike 2:yoyo]</span>

    <span class="token comment">//2、自动推导类型 :=</span>
    m2 <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">&quot;mike&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">&quot;yoyo&quot;</span><span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>m2<span class="token punctuation">)</span>
</code></pre></div><h3 id="_7-5-3-常用操作"><a href="#_7-5-3-常用操作" class="header-anchor">#</a> 7.5.3 常用操作</h3> <h4 id="_7-5-3-1-赋值"><a href="#_7-5-3-1-赋值" class="header-anchor">#</a> 7.5.3.1 赋值</h4> <div class="language-Go extra-class"><pre class="language-go"><code>    m1 <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">&quot;mike&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">&quot;yoyo&quot;</span><span class="token punctuation">}</span>
    m1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;xxx&quot;</span>   <span class="token comment">//修改</span>
    m1<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;lily&quot;</span>  <span class="token comment">//追加， go底层会自动为map分配空间</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>m1<span class="token punctuation">)</span> <span class="token comment">//map[1:xxx 2:yoyo 3:lily]</span>

    m2 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">//创建map</span>
    m2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;aaa&quot;</span>
    m2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;bbb&quot;</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>m2<span class="token punctuation">)</span>           <span class="token comment">//map[0:aaa 1:bbb]</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>m2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> m2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//aaa bbb</span>
</code></pre></div><h4 id="_7-5-3-2-遍历"><a href="#_7-5-3-2-遍历" class="header-anchor">#</a> 7.5.3.2 遍历</h4> <div class="language-Go extra-class"><pre class="language-go"><code>    m1 <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">&quot;mike&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">&quot;yoyo&quot;</span><span class="token punctuation">}</span>
    <span class="token comment">//迭代遍历1，第一个返回值是key，第二个返回值是value</span>
    <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> m1 <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d ----&gt; %s\n&quot;</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
        <span class="token comment">//1 ----&gt; mike</span>
        <span class="token comment">//2 ----&gt; yoyo</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//迭代遍历2，第一个返回值是key，第二个返回值是value（可省略）</span>
    <span class="token keyword">for</span> k <span class="token operator">:=</span> <span class="token keyword">range</span> m1 <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d ----&gt; %s\n&quot;</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> m1<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token comment">//1 ----&gt; mike</span>
        <span class="token comment">//2 ----&gt; yoyo</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//判断某个key所对应的value是否存在, 第一个返回值是value(如果存在的话)</span>
    value<span class="token punctuation">,</span> ok <span class="token operator">:=</span> m1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;value = &quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token string">&quot;, ok = &quot;</span><span class="token punctuation">,</span> ok<span class="token punctuation">)</span> <span class="token comment">//value =  mike , ok =  true</span>

    value2<span class="token punctuation">,</span> ok2 <span class="token operator">:=</span> m1<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;value2 = &quot;</span><span class="token punctuation">,</span> value2<span class="token punctuation">,</span> <span class="token string">&quot;, ok2 = &quot;</span><span class="token punctuation">,</span> ok2<span class="token punctuation">)</span> <span class="token comment">//value2 =   , ok2 =  false</span>
</code></pre></div><h4 id="_7-5-3-3-删除"><a href="#_7-5-3-3-删除" class="header-anchor">#</a> 7.5.3.3 删除</h4> <div class="language-Go extra-class"><pre class="language-go"><code>    m1 <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">&quot;mike&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">&quot;yoyo&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token string">&quot;lily&quot;</span><span class="token punctuation">}</span>
    <span class="token comment">//迭代遍历1，第一个返回值是key，第二个返回值是value</span>
    <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> m1 <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d ----&gt; %s\n&quot;</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
        <span class="token comment">//1 ----&gt; mike</span>
        <span class="token comment">//2 ----&gt; yoyo</span>
        <span class="token comment">//3 ----&gt; lily</span>
    <span class="token punctuation">}</span>

    <span class="token function">delete</span><span class="token punctuation">(</span>m1<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">//删除key值为3的map</span>

    <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> m1 <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d ----&gt; %s\n&quot;</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
        <span class="token comment">//1 ----&gt; mike</span>
        <span class="token comment">//3 ----&gt; lily</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="_7-5-4-map-做函数参数"><a href="#_7-5-4-map-做函数参数" class="header-anchor">#</a> 7.5.4 map 做函数参数</h3> <p>在函数间传递映射并不会制造出该映射的一个副本，不是值传递，而是引用传递：</p> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">DeleteMap</span><span class="token punctuation">(</span>m <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> key <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">delete</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token comment">//删除key值为3的map</span>

    <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> m <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;len(m)=%d, %d ----&gt; %s\n&quot;</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
        <span class="token comment">//len(m)=2, 1 ----&gt; mike</span>
        <span class="token comment">//len(m)=2, 3 ----&gt; lily</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    m <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">&quot;mike&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">&quot;yoyo&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token string">&quot;lily&quot;</span><span class="token punctuation">}</span>

    <span class="token function">DeleteMap</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">//删除key值为3的map</span>

    <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> m <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;len(m)=%d, %d ----&gt; %s\n&quot;</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
        <span class="token comment">//len(m)=2, 1 ----&gt; mike</span>
        <span class="token comment">//len(m)=2, 3 ----&gt; lily</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_7-6-结构体"><a href="#_7-6-结构体" class="header-anchor">#</a> 7.6 结构体</h2> <h3 id="_7-6-1-结构体类型"><a href="#_7-6-1-结构体类型" class="header-anchor">#</a> 7.6.1 结构体类型</h3> <p>有时我们需要将不同类型的数据组合成一个有机的整体，如：一个学生有学号/姓名/性别/年龄/地址等属性。显然单独定义以上变量比较繁琐，数据不便于管理。
<img src="/learning_go_note/assets/img/go35799.bff0af8c.png" alt="123"></p> <p>结构体是一种聚合的数据类型，它是由一系列具有相同类型或不同类型的数据构成的数据集合。每个数据称为结构体的成员。</p> <h3 id="_7-6-2-结构体初始化"><a href="#_7-6-2-结构体初始化" class="header-anchor">#</a> 7.6.2 结构体初始化</h3> <h4 id="_7-6-2-1-普通变量"><a href="#_7-6-2-1-普通变量" class="header-anchor">#</a> 7.6.2.1 普通变量</h4> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> Student <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    id   <span class="token builtin">int</span>
    name <span class="token builtin">string</span>
    sex  <span class="token builtin">byte</span>
    age  <span class="token builtin">int</span>
    addr <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//1、顺序初始化，必须每个成员都初始化</span>
    <span class="token keyword">var</span> s1 Student <span class="token operator">=</span> Student<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;mike&quot;</span><span class="token punctuation">,</span> <span class="token string">'m'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&quot;sz&quot;</span><span class="token punctuation">}</span>
    s2 <span class="token operator">:=</span> Student<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;yoyo&quot;</span><span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&quot;sz&quot;</span><span class="token punctuation">}</span>
    <span class="token comment">//s3 := Student{2, &quot;tom&quot;, 'm', 20} //err, too few values in struct initializer</span>

    <span class="token comment">//2、指定初始化某个成员，没有初始化的成员为零值</span>
    s4 <span class="token operator">:=</span> Student<span class="token punctuation">{</span>id<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">&quot;lily&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_7-6-2-2-指针变量"><a href="#_7-6-2-2-指针变量" class="header-anchor">#</a> 7.6.2.2 指针变量</h4> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> Student <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    id   <span class="token builtin">int</span>
    name <span class="token builtin">string</span>
    sex  <span class="token builtin">byte</span>
    age  <span class="token builtin">int</span>
    addr <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> s5 <span class="token operator">*</span>Student <span class="token operator">=</span> <span class="token operator">&amp;</span>Student<span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;xiaoming&quot;</span><span class="token punctuation">,</span> <span class="token string">'m'</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">&quot;bj&quot;</span><span class="token punctuation">}</span>
    s6 <span class="token operator">:=</span> <span class="token operator">&amp;</span>Student<span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&quot;rocco&quot;</span><span class="token punctuation">,</span> <span class="token string">'m'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;sh&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_7-6-3-结构体成员的使用"><a href="#_7-6-3-结构体成员的使用" class="header-anchor">#</a> 7.6.3 结构体成员的使用</h3> <h4 id="_7-6-3-1-普通变量"><a href="#_7-6-3-1-普通变量" class="header-anchor">#</a> 7.6.3.1 普通变量</h4> <div class="language-Go extra-class"><pre class="language-go"><code>    <span class="token comment">//===============结构体变量为普通变量</span>
    <span class="token comment">//1、打印成员</span>
    <span class="token keyword">var</span> s1 Student <span class="token operator">=</span> Student<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;mike&quot;</span><span class="token punctuation">,</span> <span class="token string">'m'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&quot;sz&quot;</span><span class="token punctuation">}</span>
    <span class="token comment">//结果：id = 1, name = mike, sex = m, age = 18, addr = sz</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;id = %d, name = %s, sex = %c, age = %d, addr = %s\n&quot;</span><span class="token punctuation">,</span> s1<span class="token punctuation">.</span>id<span class="token punctuation">,</span> s1<span class="token punctuation">.</span>name<span class="token punctuation">,</span> s1<span class="token punctuation">.</span>sex<span class="token punctuation">,</span> s1<span class="token punctuation">.</span>age<span class="token punctuation">,</span> s1<span class="token punctuation">.</span>addr<span class="token punctuation">)</span>

    <span class="token comment">//2、成员变量赋值</span>
    <span class="token keyword">var</span> s2 Student
    s2<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">2</span>
    s2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;yoyo&quot;</span>
    s2<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">'f'</span>
    s2<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">16</span>
    s2<span class="token punctuation">.</span>addr <span class="token operator">=</span> <span class="token string">&quot;guangzhou&quot;</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment">//{2 yoyo 102 16 guangzhou}</span>
</code></pre></div><h4 id="_7-6-3-2-指针变量"><a href="#_7-6-3-2-指针变量" class="header-anchor">#</a> 7.6.3.2 指针变量</h4> <div class="language-Go extra-class"><pre class="language-go"><code>    <span class="token comment">//===============结构体变量为指针变量</span>
    <span class="token comment">//3、先分配空间，再赋值</span>
    s3 <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>Student<span class="token punctuation">)</span>
    s3<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">3</span>
    s3<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;xxx&quot;</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span> <span class="token comment">//&amp;{3 xxx 0 0 }</span>

    <span class="token comment">//4、普通变量和指针变量类型打印</span>
    <span class="token keyword">var</span> s4 Student <span class="token operator">=</span> Student<span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&quot;yyy&quot;</span><span class="token punctuation">,</span> <span class="token string">'m'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&quot;sz&quot;</span><span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;s4 = %v, &amp;s4 = %v\n&quot;</span><span class="token punctuation">,</span> s4<span class="token punctuation">,</span> <span class="token operator">&amp;</span>s4<span class="token punctuation">)</span> <span class="token comment">//s4 = {4 yyy 109 18 sz}, &amp;s4 = &amp;{4 yyy 109 18 sz}</span>

    <span class="token keyword">var</span> p <span class="token operator">*</span>Student <span class="token operator">=</span> <span class="token operator">&amp;</span>s4
    <span class="token comment">//p.成员 和(*p).成员 操作是等价的</span>
    p<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">5</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;zzz&quot;</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">,</span> s4<span class="token punctuation">)</span> <span class="token comment">//&amp;{5 zzz 109 18 sz} {5 zzz 109 18 sz} {5 zzz 109 18 sz}</span>
</code></pre></div><h3 id="_7-6-4-结构体比较"><a href="#_7-6-4-结构体比较" class="header-anchor">#</a> 7.6.4 结构体比较</h3> <p>如果结构体的全部成员都是可以比较的，那么结构体也是可以比较的，那样的话两个结构体将可以使用 == 或 != 运算符进行比较，但不支持 &gt; 或 &lt; 。</p> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    s1 <span class="token operator">:=</span> Student<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;mike&quot;</span><span class="token punctuation">,</span> <span class="token string">'m'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&quot;sz&quot;</span><span class="token punctuation">}</span>
    s2 <span class="token operator">:=</span> Student<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;mike&quot;</span><span class="token punctuation">,</span> <span class="token string">'m'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&quot;sz&quot;</span><span class="token punctuation">}</span>

    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;s1 == s2&quot;</span><span class="token punctuation">,</span> s1 <span class="token operator">==</span> s2<span class="token punctuation">)</span> <span class="token comment">//s1 == s2 true</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;s1 != s2&quot;</span><span class="token punctuation">,</span> s1 <span class="token operator">!=</span> s2<span class="token punctuation">)</span> <span class="token comment">//s1 != s2 false</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_7-6-5-结构体作为函数参数"><a href="#_7-6-5-结构体作为函数参数" class="header-anchor">#</a> 7.6.5 结构体作为函数参数</h3> <h4 id="_7-6-5-1-值传递"><a href="#_7-6-5-1-值传递" class="header-anchor">#</a> 7.6.5.1 值传递</h4> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">printStudentValue</span><span class="token punctuation">(</span>tmp Student<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    tmp<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">250</span>
    <span class="token comment">//printStudentValue tmp =  {250 mike 109 18 sz}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;printStudentValue tmp = &quot;</span><span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">var</span> s Student <span class="token operator">=</span> Student<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;mike&quot;</span><span class="token punctuation">,</span> <span class="token string">'m'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&quot;sz&quot;</span><span class="token punctuation">}</span>

    <span class="token function">printStudentValue</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>        <span class="token comment">//值传递，形参的修改不会影响到实参</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;main s = &quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span> <span class="token comment">//main s =  {1 mike 109 18 sz}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_7-6-5-2-引用传递"><a href="#_7-6-5-2-引用传递" class="header-anchor">#</a> 7.6.5.2 引用传递</h4> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">printStudentPointer</span><span class="token punctuation">(</span>p <span class="token operator">*</span>Student<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    p<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">250</span>
    <span class="token comment">//printStudentPointer p =  &amp;{250 mike 109 18 sz}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;printStudentPointer p = &quot;</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> s Student <span class="token operator">=</span> Student<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;mike&quot;</span><span class="token punctuation">,</span> <span class="token string">'m'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&quot;sz&quot;</span><span class="token punctuation">}</span>

    <span class="token function">printStudentPointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span>     <span class="token comment">//引用(地址)传递，形参的修改会影响到实参</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;main s = &quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span> <span class="token comment">//main s =  {250 mike 109 18 sz}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_7-6-6-可见性"><a href="#_7-6-6-可见性" class="header-anchor">#</a> 7.6.6 可见性</h3> <p>Go 语言对关键字的增加非常吝啬，其中没有 private、 protected、 public 这样的关键字。</p> <p>要使某个符号对其他包（package）可见（即可以访问），需要将该符号定义为以大写字母
开头。</p> <p>目录结构：</p> <p><img src="/learning_go_note/assets/img/go38643.cd65380c.png" alt="123"></p> <p>test.go 示例代码如下：</p> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token comment">//test.go</span>
<span class="token keyword">package</span> test

<span class="token comment">//student01只能在本文件件引用，因为首字母小写</span>
<span class="token keyword">type</span> student01 <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    Id   <span class="token builtin">int</span>
    Name <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">//Student02可以在任意文件引用，因为首字母大写</span>
<span class="token keyword">type</span> Student02 <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    Id   <span class="token builtin">int</span>
    name <span class="token builtin">string</span>
<span class="token punctuation">}</span>
</code></pre></div><p>main.go 示例代码如下：</p> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token comment">// main.go</span>
<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;test&quot;</span> <span class="token comment">//导入test包</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//s1 := test.student01{1, &quot;mike&quot;} //err, cannot refer to unexported name test.student01</span>

    <span class="token comment">//err, implicit assignment of unexported field 'name' in test.Student02 literal</span>
    <span class="token comment">//s2 := test.Student02{2, &quot;yoyo&quot;}</span>
    <span class="token comment">//fmt.Println(s2)</span>

    <span class="token keyword">var</span> s3 test<span class="token punctuation">.</span>Student02 <span class="token comment">//声明变量</span>
    s3<span class="token punctuation">.</span>Id <span class="token operator">=</span> <span class="token number">1</span>             <span class="token comment">//ok</span>
    <span class="token comment">//s3.name = &quot;mike&quot;  //err, s3.name undefined (cannot refer to unexported field or method name)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/learning_go_note/工程管理.html" class="prev">
        6. 工程管理
      </a></span> <span class="next"><a href="/learning_go_note/面向对象编程.html">
        8. 面向对象编程
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/learning_go_note/assets/js/app.212da724.js" defer></script><script src="/learning_go_note/assets/js/2.2959cc1c.js" defer></script><script src="/learning_go_note/assets/js/7.cf0fe9e2.js" defer></script>
  </body>
</html>
